1701615588
waR3U4bTeM%3A5b6c2f5ce529debb9b669e6880cebb25-33cd9fd1572e84028970d1549d32d30e
s:18424:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjMzY2Q5ZmQxNTcyZTg0MDI4OTcwZDE1NDlkMzJkMzBlIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTY6IkRhdGFiYXNlVGVzdC5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czoyNzoidGVzdHMvVW5pdC9EYXRhYmFzZVRlc3QucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxMjkwNjoiPD9waHAKIHVzZSBmdW5jdGlvbiBQZXN0XEZha2VyXGZha2VyOwoKCiBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHsKICAgICBkYigpLT5jb25uZWN0aW9uLT5xdWVyeSgiRFJPUCBUQUJMRSBJRiBFWElTVFMgdXNlcjsgIik7CiAgICAgZGIoKS0+Y29ubmVjdGlvbi0+cXVlcnkoIkRST1AgVEFCTEUgSUYgRVhJU1RTIHBhcmVudDsgIik7CiAgICAgZGIoKS0+Y29ubmVjdGlvbi0+cXVlcnkoIkRST1AgVEFCTEUgSUYgRVhJU1RTIHBhcmVudF91c2VyOyAiKTsKIH0pOwoKaXQoIiBjaGVja3MgZGIoKS0+Y3JlYXRlKCkgZnVuY3Rpb24gIiwgZnVuY3Rpb24gKCR1c2VVVUlEKSB7CiAgICAkdXNlciA9IGRiKCR1c2VVVUlEKS0+Y3JlYXRlKCd1c2VyJyk7CiAgICAkbW9kZWwgPSAgbmV3IFxTY3Jhd2xlclxBcmNhXE1vZGVsKCd1c2VyJyxkYigkdXNlVVVJRCkpOwogICAgJHRoaXMtPmFzc2VydE9iamVjdEVxdWFscygkbW9kZWwsICR1c2VyKTsKfSktPndpdGgoJ3VzZVVVSUQnKTsKCml0KCJjaGVja3MgaWYgZGIoKS0+c2F2ZSgpIGZ1bmN0aW9uIGNyZWF0ZXMgdGFibGUiLCBmdW5jdGlvbiAoJHVzZVVVSUQpIHsKICAgICR1c2VyID0gZGIoJHVzZVVVSUQpLT5jcmVhdGUoJ3VzZXInKTsKICAgICR1c2VyLT5uYW1lID0gZmFrZXIoKS0+bmFtZTsKICAgICR1c2VyLT5lbWFpbCA9IGZha2VyKCktPmVtYWlsOwogICAgJHVzZXItPmRvYiA9IGZha2VyKCktPmRhdGU7CiAgICAkdXNlci0+YWdlID0gZmFrZXIoKS0+cmFuZG9tTnVtYmVyKDIsIGZhbHNlKTsKICAgICR1c2VyLT5hY3RpdmUgPSBmYWxzZTsKCiAgICAkdXNlci0+c2F2ZSgpOwoKICAgICR0YWJsZT0gZGIoJHVzZVVVSUQpLT5tYW5hZ2VyLT5saXN0VGFibGVEZXRhaWxzKCd1c2VyJyk7CiAgICAkcmVxdWlyZWRUYWJsZSA9IG5ldyBcRG9jdHJpbmVcREJBTFxTY2hlbWFcVGFibGUoJ3VzZXInKTsKICAgIGlmIChkYigkdXNlVVVJRCktPmlzVXNpbmdVVUlEKCkpIHsKICAgICAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCdpZCcsICdzdHJpbmcnLCBhcnJheSgnbGVuZ3RoJyA9PiAzNiwnbm90bnVsbCcgPT4gdHJ1ZSkpOwogICAgfSBlbHNlIHsKICAgICAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCJpZCIsICJpbnRlZ2VyIiwgYXJyYXkoInVuc2lnbmVkIiA9PiB0cnVlLCAiYXV0b2luY3JlbWVudCIgPT4gdHJ1ZSkpOwogICAgfQogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignbmFtZScsICJzdHJpbmciLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ25hbWUnXSk7CiAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCdlbWFpbCcsICJzdHJpbmciLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ2VtYWlsJ10pOwogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignZG9iJywgInN0cmluZyIsIFsnbm90bnVsbCcgPT4gZmFsc2UsICdjb21tZW50JyA9PiAnZG9iJ10pOwogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignYWdlJywgImludGVnZXIiLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ2FnZSddKTsKICAgICRyZXF1aXJlZFRhYmxlLT5hZGRDb2x1bW4oJ2FjdGl2ZScsICJpbnRlZ2VyIiwgWydub3RudWxsJyA9PiBmYWxzZSwgJ2NvbW1lbnQnID0+ICdhY3RpdmUnXSk7CgogICAgJHJlcXVpcmVkVGFibGUtPnNldFByaW1hcnlLZXkoYXJyYXkoImlkIikpOwoKICAgICRhY3R1YWwgPSBuZXcgXERvY3RyaW5lXERCQUxcU2NoZW1hXFNjaGVtYShbJHRhYmxlXSk7CiAgICAkcmVxdWlyZWQgPSBuZXcgXERvY3RyaW5lXERCQUxcU2NoZW1hXFNjaGVtYShbJHJlcXVpcmVkVGFibGVdKTsKICAgICRjb21wYXJhdG9yID0gbmV3IFxEb2N0cmluZVxEQkFMXFNjaGVtYVxDb21wYXJhdG9yKCk7CiAgICAkZGlmZiA9ICRjb21wYXJhdG9yLT5jb21wYXJlKCRhY3R1YWwsICRyZXF1aXJlZCk7CgogICAgJHRoaXMtPmFzc2VydEVtcHR5KCRkaWZmLT50b1NxbChkYigpLT5wbGF0Zm9ybSkpOwp9KS0+d2l0aCgndXNlVVVJRCcpOwoKaXQoImNoZWNrcyBpZiBkYigpLT5zYXZlKCkgZnVuY3Rpb24gbW9kaWZpZXMgdGFibGUiLCBmdW5jdGlvbiAoJHVzZVVVSUQpIHsKICAgICRpZCA9IGNyZWF0ZVJhbmRvbVVzZXIoJHVzZVVVSUQpOwogIAoKICAgICR0YWJsZT0gZGIoJHVzZVVVSUQpLT5tYW5hZ2VyLT5saXN0VGFibGVEZXRhaWxzKCd1c2VyJyk7CiAgICAkcmVxdWlyZWRUYWJsZSA9IG5ldyBcRG9jdHJpbmVcREJBTFxTY2hlbWFcVGFibGUoJ3VzZXInKTsKICAgIGlmIChkYigkdXNlVVVJRCktPmlzVXNpbmdVVUlEKCkpIHsKICAgICAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCdpZCcsICdzdHJpbmcnLCBhcnJheSgnbGVuZ3RoJyA9PiAzNiwnbm90bnVsbCcgPT4gdHJ1ZSkpOwogICAgfSBlbHNlIHsKICAgICAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCJpZCIsICJpbnRlZ2VyIiwgYXJyYXkoInVuc2lnbmVkIiA9PiB0cnVlLCAiYXV0b2luY3JlbWVudCIgPT4gdHJ1ZSkpOwogICAgfQogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignbmFtZScsICJzdHJpbmciLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ25hbWUnXSk7CiAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCdlbWFpbCcsICJzdHJpbmciLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ2VtYWlsJ10pOwogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignZG9iJywgInN0cmluZyIsIFsnbm90bnVsbCcgPT4gZmFsc2UsICdjb21tZW50JyA9PiAnZG9iJ10pOwogICAgJHJlcXVpcmVkVGFibGUtPmFkZENvbHVtbignYWdlJywgImludGVnZXIiLCBbJ25vdG51bGwnID0+IGZhbHNlLCAnY29tbWVudCcgPT4gJ2FnZSddKTsKICAgICRyZXF1aXJlZFRhYmxlLT5hZGRDb2x1bW4oJ2FjdGl2ZScsICJpbnRlZ2VyIiwgWydub3RudWxsJyA9PiBmYWxzZSwgJ2NvbW1lbnQnID0+ICdhY3RpdmUnXSk7CiAgICAkcmVxdWlyZWRUYWJsZS0+YWRkQ29sdW1uKCdhZGRyZXNzJywgInN0cmluZyIsIFsnbm90bnVsbCcgPT4gZmFsc2UsICdjb21tZW50JyA9PiAnYWRkcmVzcyddKTsKCiAgICAkcmVxdWlyZWRUYWJsZS0+c2V0UHJpbWFyeUtleShhcnJheSgiaWQiKSk7CgogICAgJGFjdHVhbCA9IG5ldyBcRG9jdHJpbmVcREJBTFxTY2hlbWFcU2NoZW1hKFskdGFibGVdKTsKICAgICRyZXF1aXJlZCA9IG5ldyBcRG9jdHJpbmVcREJBTFxTY2hlbWFcU2NoZW1hKFskcmVxdWlyZWRUYWJsZV0pOwogICAgJGNvbXBhcmF0b3IgPSBuZXcgXERvY3RyaW5lXERCQUxcU2NoZW1hXENvbXBhcmF0b3IoKTsKICAgICRkaWZmID0gJGNvbXBhcmF0b3ItPmNvbXBhcmUoJGFjdHVhbCwgJHJlcXVpcmVkKTsKICAgIC8vcHJpbnRfcigkZGlmZi0+dG9TcWwoZGIoKS0+cGxhdGZvcm0pKTsKCiAgICAkdGhpcy0+YXNzZXJ0RW1wdHkoJGRpZmYtPnRvU3FsKGRiKCR1c2VVVUlEKS0+cGxhdGZvcm0pKTsKfSktPndpdGgoJ3VzZVVVSUQnKTsKCml0KCJjaGVja3MgaWYgZGIoKS0+c2F2ZSgpIGZ1bmN0aW9uIHNhdmVzIHJlY29yZCIsIGZ1bmN0aW9uICgkdXNlVVVJRCkgewogICAgJHVzZXIgPSBkYigkdXNlVVVJRCktPmNyZWF0ZSgndXNlcicpOwogICAgJHVzZXItPm5hbWUgPSBmYWtlcigpLT5uYW1lOwogICAgJHVzZXItPmVtYWlsID0gZmFrZXIoKS0+ZW1haWw7CiAgICAkdXNlci0+ZG9iID0gZmFrZXIoKS0+ZGF0ZTsKICAgICR1c2VyLT5hZ2UgPSBmYWtlcigpLT5yYW5kb21OdW1iZXIoMiwgZmFsc2UpOwogICAgJHVzZXItPmFkZHJlc3MgPSBmYWtlcigpLT5zdHJlZXRBZGRyZXNzKCk7CiAgICAkaWQgPSAkdXNlci0+c2F2ZSgpOwogICAgLy9kYigpLT5jb25uZWN0aW9uLT5nZXROYXRpdmVDb25uZWN0aW9uKCktPnNldEF0dHJpYnV0ZShQRE86OkFUVFJfRU1VTEFURV9QUkVQQVJFUywgZmFsc2UpOwoKCiAgICAkc3RtdCA9IGRiKCR1c2VVVUlEKS0+Y29ubmVjdGlvbi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGlkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0ID0ganNvbl9lbmNvZGUoJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFzc29jaWF0aXZlKCkpOwogICAgJHRoaXMtPmFzc2VydEpzb25TdHJpbmdFcXVhbHNKc29uU3RyaW5nKAogICAgICAgICRyZXN1bHQsCiAgICAgICAgJHVzZXItPnRvU3RyaW5nKCkKICAgICk7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzIGlmIGRiKCktPnNhdmUoKSBmdW5jdGlvbiBzYXZlcyByZWNvcmQgd2l0aCBvbmUtdG8tb25lIHJlbGF0aW9uIiwgZnVuY3Rpb24gKCR1c2VVVUlEKSB7CiAgICAkdXNlciA9IGRiKCR1c2VVVUlEKS0+Y3JlYXRlKCd1c2VyJyk7CiAgICAkdXNlci0+bmFtZSA9IGZha2VyKCktPm5hbWU7CiAgICAkdXNlci0+ZW1haWwgPSBmYWtlcigpLT5lbWFpbDsKICAgICR1c2VyLT5kb2IgPSBmYWtlcigpLT5kYXRlOwogICAgJHVzZXItPmFnZSA9IGZha2VyKCktPnJhbmRvbU51bWJlcigyLCBmYWxzZSk7CiAgICAkdXNlci0+YWRkcmVzcyA9IGZha2VyKCktPnN0cmVldEFkZHJlc3MoKTsKICAgIC8vJGlkID0gJHVzZXItPnNhdmUoKTsKCiAgICAkcGFyZW50ID0gZGIoJHVzZVVVSUQpLT5jcmVhdGUoJ3BhcmVudCcpOwogICAgJHBhcmVudC0+bmFtZSA9IGZha2VyKCktPm5hbWU7CiAgICAkcGFyZW50LT51c2VyID0gJHVzZXI7CiAgICAkaWQgPSAkcGFyZW50LT5zYXZlKCk7CgogICAgJHN0bXQgPSBkYigkdXNlVVVJRCktPmNvbm5lY3Rpb24tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gcGFyZW50IFdIRVJFIGlkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0ID0ganNvbl9lbmNvZGUoJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFzc29jaWF0aXZlKCkpOwogICAgJHRoaXMtPmFzc2VydEpzb25TdHJpbmdFcXVhbHNKc29uU3RyaW5nKAogICAgICAgICRyZXN1bHQsCiAgICAgICAgJHBhcmVudC0+dG9TdHJpbmcoKQogICAgKTsKfSktPndpdGgoJ3VzZVVVSUQnKTsKCml0KCJjaGVja3MgaWYgZGIoKS0+c2F2ZSgpIGZ1bmN0aW9uIHNhdmVzIHJlY29yZCB3aXRoIG9uZS10by1tYW55IHJlbGF0aW9uIiwgZnVuY3Rpb24gKCR1c2VVVUlEKSB7CiAgICAkdXNlciA9IGRiKCR1c2VVVUlEKS0+Y3JlYXRlKCd1c2VyJyk7CiAgICAkdXNlci0+bmFtZSA9IGZha2VyKCktPm5hbWU7CiAgICAkdXNlci0+ZW1haWwgPSBmYWtlcigpLT5lbWFpbDsKICAgICR1c2VyLT5kb2IgPSBmYWtlcigpLT5kYXRlOwogICAgJHVzZXItPmFnZSA9IGZha2VyKCktPnJhbmRvbU51bWJlcigyLCBmYWxzZSk7CiAgICAkdXNlci0+YWRkcmVzcyA9IGZha2VyKCktPnN0cmVldEFkZHJlc3MoKTsKCiAgICAkdXNlcl90d28gPSBkYigkdXNlVVVJRCktPmNyZWF0ZSgndXNlcicpOwogICAgJHVzZXJfdHdvLT5uYW1lID0gZmFrZXIoKS0+bmFtZTsKICAgICR1c2VyX3R3by0+ZW1haWwgPSBmYWtlcigpLT5lbWFpbDsKICAgICR1c2VyX3R3by0+ZG9iID0gZmFrZXIoKS0+ZGF0ZTsKICAgICR1c2VyX3R3by0+YWdlID0gZmFrZXIoKS0+cmFuZG9tTnVtYmVyKDIsIGZhbHNlKTsKICAgICR1c2VyX3R3by0+YWRkcmVzcyA9IGZha2VyKCktPnN0cmVldEFkZHJlc3MoKTsKICAgIC8vJGlkID0gJHVzZXItPnNhdmUoKTsKCiAgICAkcGFyZW50ID0gZGIoJHVzZVVVSUQpLT5jcmVhdGUoJ3BhcmVudCcpOwogICAgJHBhcmVudC0+bmFtZSA9IGZha2VyKCktPm5hbWU7CiAgICAkcGFyZW50LT5vd25Vc2VyTGlzdCA9IFskdXNlciwkdXNlcl90d29dOwogICAgJGlkID0gJHBhcmVudC0+c2F2ZSgpOwoKICAgICRzdG10ID0gZGIoJHVzZVVVSUQpLT5jb25uZWN0aW9uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHBhcmVudCBXSEVSRSBpZCA9ICciLiRpZC4iJyIpOwogICAgJHJlc3VsdCA9IGpzb25fZW5jb2RlKCRzdG10LT5leGVjdXRlUXVlcnkoKS0+ZmV0Y2hBc3NvY2lhdGl2ZSgpKTsKICAgICRzdG10ID0gZGIoJHVzZVVVSUQpLT5jb25uZWN0aW9uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgcGFyZW50X2lkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0X2NoaWxkID0gJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFsbEFzc29jaWF0aXZlKCk7CiAgICBpZiAoIWRiKCR1c2VVVUlEKS0+aXNVc2luZ1VVSUQoKSkgewogICAgICAgIHVuc2V0KCRyZXN1bHRfY2hpbGRbMF1bJ2lkJ10pOwogICAgICAgIHVuc2V0KCRyZXN1bHRfY2hpbGRbMV1bJ2lkJ10pOwogICAgfQogICAgJHRoaXMtPmFzc2VydEpzb25TdHJpbmdFcXVhbHNKc29uU3RyaW5nKAogICAgICAgICRyZXN1bHQsCiAgICAgICAgJHBhcmVudC0+dG9TdHJpbmcoKQogICAgKTsKICAgICR0aGlzLT5hc3NlcnRUcnVlKAogICAgICAgICgkcmVzdWx0X2NoaWxkWzBdID09ICR1c2VyLT50b0FycmF5KCkgfHwgJHJlc3VsdF9jaGlsZFswXSA9PSAkdXNlcl90d28tPnRvQXJyYXkoKSkKICAgICk7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzIGlmIGRiKCktPnNhdmUoKSBmdW5jdGlvbiBzYXZlcyByZWNvcmQgd2l0aCBtYW55LXRvLW1hbnkgcmVsYXRpb24iLCBmdW5jdGlvbiAoJHVzZVVVSUQpIHsKICAgICR1c2VyID0gZGIoJHVzZVVVSUQpLT5jcmVhdGUoJ3VzZXInKTsKICAgICR1c2VyLT5uYW1lID0gZmFrZXIoKS0+bmFtZTsKICAgICR1c2VyLT5lbWFpbCA9IGZha2VyKCktPmVtYWlsOwogICAgJHVzZXItPmRvYiA9IGZha2VyKCktPmRhdGU7CiAgICAkdXNlci0+YWdlID0gZmFrZXIoKS0+cmFuZG9tTnVtYmVyKDIsIGZhbHNlKTsKICAgICR1c2VyLT5hZGRyZXNzID0gZmFrZXIoKS0+c3RyZWV0QWRkcmVzcygpOwoKICAgICR1c2VyX3R3byA9IGRiKCR1c2VVVUlEKS0+Y3JlYXRlKCd1c2VyJyk7CiAgICAkdXNlcl90d28tPm5hbWUgPSBmYWtlcigpLT5uYW1lOwogICAgJHVzZXJfdHdvLT5lbWFpbCA9IGZha2VyKCktPmVtYWlsOwogICAgJHVzZXJfdHdvLT5kb2IgPSBmYWtlcigpLT5kYXRlOwogICAgJHVzZXJfdHdvLT5hZ2UgPSBmYWtlcigpLT5yYW5kb21OdW1iZXIoMiwgZmFsc2UpOwogICAgJHVzZXJfdHdvLT5hZGRyZXNzID0gZmFrZXIoKS0+c3RyZWV0QWRkcmVzcygpOwogICAgLy8kaWQgPSAkdXNlci0+c2F2ZSgpOwoKICAgICRwYXJlbnQgPSBkYigkdXNlVVVJRCktPmNyZWF0ZSgncGFyZW50Jyk7CiAgICAkcGFyZW50LT5uYW1lID0gZmFrZXIoKS0+bmFtZTsKICAgICRwYXJlbnQtPnNoYXJlZFVzZXJMaXN0ID0gWyR1c2VyLCR1c2VyX3R3b107CiAgICAkaWQgPSAkcGFyZW50LT5zYXZlKCk7CgogICAgJHN0bXQgPSBkYigkdXNlVVVJRCktPmNvbm5lY3Rpb24tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gcGFyZW50IFdIRVJFIGlkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0ID0ganNvbl9lbmNvZGUoJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFzc29jaWF0aXZlKCkpOwogICAgJHN0bXQgPSBkYigkdXNlVVVJRCktPmNvbm5lY3Rpb24tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gcGFyZW50X3VzZXIgV0hFUkUgcGFyZW50X2lkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0c19yZWwgPSAkc3RtdC0+ZXhlY3V0ZVF1ZXJ5KCktPmZldGNoQWxsQXNzb2NpYXRpdmUoKTsKICAgICRyZWxfaWRzID0nJzsKICAgIGZvcmVhY2ggKCRyZXN1bHRzX3JlbCBhcyAkcmVsYXRpb24pIHsKICAgICAgICAka2V5ID0gJ3VzZXJfaWQnOwogICAgICAgICRyZWxfaWRzIC49ICInIi4kcmVsYXRpb25bJGtleV0gLiAiJywiOwogICAgfQoKICAgICRyZWxfaWRzID0gc3Vic3RyKCRyZWxfaWRzLCAwLCAtMSk7CiAgICAkc3RtdCA9IGRiKCR1c2VVVUlEKS0+Y29ubmVjdGlvbi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGlkIElOICgiIC4gJHJlbF9pZHMgLiAiKSIpOwogICAgJHJlc3VsdF91c2VyID0gJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFsbEFzc29jaWF0aXZlKCk7CiAgICBpZiAoIWRiKCR1c2VVVUlEKS0+aXNVc2luZ1VVSUQoKSkgewogICAgICAgIHVuc2V0KCRyZXN1bHRfdXNlclswXVsnaWQnXSk7CiAgICAgICAgdW5zZXQoJHJlc3VsdF91c2VyWzFdWydpZCddKTsKICAgIH0KICAgICR0aGlzLT5hc3NlcnRKc29uU3RyaW5nRXF1YWxzSnNvblN0cmluZygKICAgICAgICAkcmVzdWx0LAogICAgICAgICRwYXJlbnQtPnRvU3RyaW5nKCkKICAgICk7CgogICAgJHRoaXMtPmFzc2VydFRydWUoCiAgICAgICAgKCRyZXN1bHRfdXNlclswXSA9PSAkdXNlci0+dG9BcnJheSgpIHx8ICRyZXN1bHRfdXNlclswXSA9PSAkdXNlcl90d28tPnRvQXJyYXkoKSkKICAgICk7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzIGlmIGRiKCktPnNhdmUoKSBmdW5jdGlvbiB1cGRhdGVzIHJlY29yZCIsIGZ1bmN0aW9uICgkdXNlVVVJRCkgewogICAgJGlkID0gY3JlYXRlUmFuZG9tVXNlcigkdXNlVVVJRCk7CiAgICAkdXNlciA9IGRiKCR1c2VVVUlEKS0+Z2V0KCd1c2VyJywgJGlkKTsKICAgICR1c2VyLT5hZ2UgPSA0NDsKICAgICRpZCA9ICR1c2VyLT5zYXZlKCk7CgogICAgJHN0bXQgPSBkYigkdXNlVVVJRCktPmNvbm5lY3Rpb24tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gdXNlciBXSEVSRSBpZCA9ICciLiRpZC4iJyIpOwogICAgJHJlc3VsdCA9IGpzb25fZW5jb2RlKCRzdG10LT5leGVjdXRlUXVlcnkoKS0+ZmV0Y2hBc3NvY2lhdGl2ZSgpKTsKICAgICR0aGlzLT5hc3NlcnRKc29uU3RyaW5nRXF1YWxzSnNvblN0cmluZygKICAgICAgICAkcmVzdWx0LAogICAgICAgICR1c2VyLT50b1N0cmluZygpCiAgICApOwp9KS0+d2l0aCgndXNlVVVJRCcpOwoKaXQoImNoZWNrcyBpZiBkYigpLT5nZXQoKSBnZXRzIHNpbmdsZSByZWNvcmQiLCBmdW5jdGlvbiAoJHVzZVVVSUQpIHsKICAgIHBvcHVsYXRlUmFuZG9tVXNlcigkdXNlVVVJRCk7CiAgICAkaWQgPSBjcmVhdGVSYW5kb21Vc2VyKCR1c2VVVUlEKTsKICAgICR1c2VyID0gZGIoJHVzZVVVSUQpLT5nZXQoJ3VzZXInLCAkaWQpOwoKICAgICRzdG10ID0gZGIoJHVzZVVVSUQpLT5jb25uZWN0aW9uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgaWQgPSAnIi4kaWQuIiciKTsKICAgICRyZXN1bHQgPSBqc29uX2VuY29kZSgkc3RtdC0+ZXhlY3V0ZVF1ZXJ5KCktPmZldGNoQXNzb2NpYXRpdmUoKSk7CiAgICAkdGhpcy0+YXNzZXJ0SnNvblN0cmluZ0VxdWFsc0pzb25TdHJpbmcoCiAgICAgICAgJHJlc3VsdCwKICAgICAgICAkdXNlci0+dG9TdHJpbmcoKQogICAgKTsKICAgICR0aGlzLT5hc3NlcnRJc1N0cmluZygoc3RyaW5nKSAkdXNlcik7CiAgICAkdGhpcy0+YXNzZXJ0SW5zdGFuY2VPZihcU2NyYXdsZXJcQXJjYVxNb2RlbDo6Y2xhc3MsICR1c2VyKTsKfSktPndpdGgoJ3VzZVVVSUQnKTsKCml0KCJjaGVja3MgaWYgZGIoKS0+Z2V0T25lKCkgZ2V0cyBzaW5nbGUgcmVjb3JkIiwgZnVuY3Rpb24gKCR1c2VVVUlEKSB7CiAgICBwb3B1bGF0ZVJhbmRvbVVzZXIoJHVzZVVVSUQpOwogICAgJGlkID0gY3JlYXRlUmFuZG9tVXNlcigkdXNlVVVJRCk7CiAgICAkdXNlciA9IGRiKCR1c2VVVUlEKS0+Z2V0T25lKCd1c2VyJywgJGlkKTsKCiAgICAkc3RtdCA9IGRiKCR1c2VVVUlEKS0+Y29ubmVjdGlvbi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGlkID0gJyIuJGlkLiInIik7CiAgICAkcmVzdWx0ID0ganNvbl9lbmNvZGUoJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFzc29jaWF0aXZlKCkpOwogICAgJHRoaXMtPmFzc2VydEpzb25TdHJpbmdFcXVhbHNKc29uU3RyaW5nKAogICAgICAgICRyZXN1bHQsCiAgICAgICAgJHVzZXItPnRvU3RyaW5nKCkKICAgICk7CiAgICAkdGhpcy0+YXNzZXJ0SXNTdHJpbmcoKHN0cmluZykgJHVzZXIpOwogICAgJHRoaXMtPmFzc2VydEluc3RhbmNlT2YoXFNjcmF3bGVyXEFyY2FcTW9kZWw6OmNsYXNzLCAkdXNlcik7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzIGlmIGRiKCktPmdldCgpIGdldHMgYWxsIHJlY29yZCIsIGZ1bmN0aW9uICgkdXNlVVVJRCkgewogICAgcG9wdWxhdGVSYW5kb21Vc2VyKCR1c2VVVUlEKTsKICAgICR1c2VycyA9IGRiKCR1c2VVVUlEKS0+Z2V0KCd1c2VyJyk7CiAgICAkc3RtdCA9IGRiKCR1c2VVVUlEKS0+Y29ubmVjdGlvbi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSB1c2VyIik7CiAgICAkcmVzdWx0ID0ganNvbl9lbmNvZGUoJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFsbEFzc29jaWF0aXZlKCkpOwogICAgJHRoaXMtPmFzc2VydEpzb25TdHJpbmdFcXVhbHNKc29uU3RyaW5nKAogICAgICAgICRyZXN1bHQsCiAgICAgICAgJHVzZXJzLT50b1N0cmluZygpCiAgICApOwogICAgJHRoaXMtPmFzc2VydEluc3RhbmNlT2YoXFNjcmF3bGVyXEFyY2FcQ29sbGVjdGlvbjo6Y2xhc3MsICR1c2Vycyk7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzIGlmIGRiKCktPmZpbmQoKSByZXR1cm5zIFF1ZXJ5IEJ1aWxkZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAkdGhpcy0+YXNzZXJ0SW5zdGFuY2VPZihcU2NyYXdsZXJcQXJjYVxRdWVyeUJ1aWxkZXI6OmNsYXNzLCBkYigpLT5maW5kKCd1c2VyJykpOwogICAgJHRoaXMtPmFzc2VydEluc3RhbmNlT2YoXFNjcmF3bGVyXEFyY2FcUXVlcnlCdWlsZGVyOjpjbGFzcywgZGIoKS0+ZmluZCgndXNlcicpLT53aGVyZSgnaWQgPSAyJykpOwp9KTsKCml0KCJjaGVja3MgaWYgZGIoKS0+ZmluZCgpIHJldHVybnMgY29ycmVjdCByZWNvcmRzIiwgZnVuY3Rpb24gKCkgewogICAgcG9wdWxhdGVSYW5kb21Vc2VyKCk7CiAgICAkdXNlcnMgPSBkYigpLT5maW5kKCd1c2VyJyktPndoZXJlKCdhY3RpdmUgPSAxJyktPmdldCgpOwogICAgJHN0bXQgPSBkYigpLT5jb25uZWN0aW9uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgYWN0aXZlID0gMSIpOwogICAgJHJlc3VsdCA9IGpzb25fZW5jb2RlKCRzdG10LT5leGVjdXRlUXVlcnkoKS0+ZmV0Y2hBbGxBc3NvY2lhdGl2ZSgpKTsKICAgICR0aGlzLT5hc3NlcnRKc29uU3RyaW5nRXF1YWxzSnNvblN0cmluZygKICAgICAgICAkcmVzdWx0LAogICAgICAgICR1c2Vycy0+dG9TdHJpbmcoKQogICAgKTsKICAgICR0aGlzLT5hc3NlcnRJbnN0YW5jZU9mKFxTY3Jhd2xlclxBcmNhXENvbGxlY3Rpb246OmNsYXNzLCAkdXNlcnMpOwp9KTsKCgppdCgiY2hlY2tzIGlmIGFsbCBwdWJsaWMgaW5zdGFuY2Ugb2YgZGF0YWJhc2UgZmlsZXMgYXJlIGNvcnJlY3QiLCBmdW5jdGlvbiAoKSB7CiAgICAkdGhpcy0+YXNzZXJ0SW5zdGFuY2VPZihcRG9jdHJpbmVcREJBTFxDb25uZWN0aW9uOjpjbGFzcywgZGIoKS0+Y29ubmVjdGlvbik7CiAgICAkdGhpcy0+YXNzZXJ0SW5zdGFuY2VPZihcRG9jdHJpbmVcREJBTFxQbGF0Zm9ybXNcQWJzdHJhY3RQbGF0Zm9ybTo6Y2xhc3MsIGRiKCktPnBsYXRmb3JtKTsKICAgICR0aGlzLT5hc3NlcnRJbnN0YW5jZU9mKFxEb2N0cmluZVxEQkFMXFNjaGVtYVxBYnN0cmFjdFNjaGVtYU1hbmFnZXI6OmNsYXNzLCBkYigpLT5tYW5hZ2VyKTsKfSk7CgppdCgiY2hlY2tzICBkYigpLT5leGVjKCkgZnVuY3Rpb24iLCBmdW5jdGlvbiAoJHVzZVVVSUQpIHsKICAgICR1c2VyID0gZGIoJHVzZVVVSUQpLT5jcmVhdGUoJ3VzZXInKTsKICAgICR1c2VyLT5uYW1lID0gZmFrZXIoKS0+bmFtZTsKICAgICR1c2VyLT5zYXZlKCk7CiAgICBpZiAoZGIoJHVzZVVVSUQpLT5pc1VzaW5nVVVJRCgpKSB7CiAgICAgICAgZGIoJHVzZVVVSUQpLT5leGVjKCJpbnNlcnQgaW50byB1c2VyIChpZCxuYW1lKSB2YWx1ZXMgKCdhYmMtamZrZS1kbXNrJywnam9obicpIik7CiAgICAgICAgJGlkID0gJ2FiYy1qZmtlLWRtc2snOwogICAgfSBlbHNlIHsKICAgICAgICBkYigkdXNlVVVJRCktPmV4ZWMoImluc2VydCBpbnRvIHVzZXIgKG5hbWUpIHZhbHVlcyAoJ2pvaG4nKSIpOwogICAgICAgICRpZCA9IDI7CiAgICB9CgogICAgJHN0bXQgPSBkYigkdXNlVVVJRCktPmNvbm5lY3Rpb24tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gdXNlciB3aGVyZSBpZCA9ICciLiRpZC4iJyIpOwogICAgJHJlc3VsdCA9ICRzdG10LT5leGVjdXRlUXVlcnkoKS0+ZmV0Y2hBc3NvY2lhdGl2ZSgpOwogICAgJHRoaXMtPmFzc2VydEVxdWFscygkcmVzdWx0WyduYW1lJ10sICJqb2huIik7Cn0pLT53aXRoKCd1c2VVVUlEJyk7CgppdCgiY2hlY2tzICBkYigpLT5nZXRBbGwoKSBmdW5jdGlvbiIsIGZ1bmN0aW9uICgkdXNlVVVJRCkgewogICAgJHVzZXIgPSBkYigkdXNlVVVJRCktPmNyZWF0ZSgndXNlcicpOwogICAgJHVzZXItPm5hbWUgPSBmYWtlcigpLT5uYW1lOwogICAgJHVzZXItPnNhdmUoKTsKCiAgICAkc3RtdCA9IGRiKCR1c2VVVUlEKS0+Y29ubmVjdGlvbi0+cHJlcGFyZSgiU0VMRUNUICogRlJPTSB1c2VyIik7CiAgICAkcmVzdWx0ID0gJHN0bXQtPmV4ZWN1dGVRdWVyeSgpLT5mZXRjaEFsbEFzc29jaWF0aXZlKCk7CgogICAgJGFjdHVhbCA9IGRiKCR1c2VVVUlEKS0+Z2V0QWxsKCJTRUxFQ1QgKiBGUk9NIHVzZXIiKTsKCiAgICAkdGhpcy0+YXNzZXJ0RXF1YWxzKCRyZXN1bHQsICRhY3R1YWwpOwp9KS0+d2l0aCgndXNlVVVJRCcpOwoKaXQoImNoZWNrcyBkYigpLT5kZWxldGUoKSBmdW5jdGlvbiIsIGZ1bmN0aW9uICgkdXNlVVVJRCkgewogICAgJHVzZXIgPSBkYigkdXNlVVVJRCktPmNyZWF0ZSgndXNlcicpOwogICAgJHVzZXItPm5hbWUgPSBmYWtlcigpLT5uYW1lOwogICAgJGlkID0gJHVzZXItPnNhdmUoKTsKICAgICR1c2VyLT5kZWxldGUoKTsKICAgICRzdG10ID0gZGIoJHVzZVVVSUQpLT5jb25uZWN0aW9uLT5wcmVwYXJlKCJTRUxFQ1QgKiBGUk9NIHVzZXIgd2hlcmUgaWQgPSAnIi4kaWQuIiciKTsKICAgICRyZXN1bHQgPSAkc3RtdC0+ZXhlY3V0ZVF1ZXJ5KCktPmZldGNoQXNzb2NpYXRpdmUoKTsKICAgICR0aGlzLT5hc3NlcnRFbXB0eSgkcmVzdWx0KTsKfSktPndpdGgoJ3VzZVVVSUQnKTsKIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";